<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.aixuxi.ledger.mapper.LedgerRecordMapper">

    <insert id="saveOrUpdateRecordList">
        INSERT INTO ledger_record
        (
        user_id,
        transaction_time,
        transaction_category,
        counterparty_name,
        product_name,
        transaction_type,
        payment_method,
        amount,
        current_status,
        remark,
        transaction_sn,
        merchant_order_sn,
        counterparty_account,
        create_time,
        create_user,
        update_user,
        update_time
        )VALUES
        <foreach collection="list" item="item" separator="," index="index">
            (
            #{item.userId},
            #{item.transactionTime},
            #{item.transactionCategory},
            #{item.counterpartyName},
            #{item.productName},
            #{item.transactionType},
            #{item.paymentMethod},
            #{item.amount},
            #{item.currentStatus},
            #{item.remark},
            #{item.transactionSn},
            #{item.merchantOrderSn},
            #{item.counterpartyAccount},
            #{item.createTime},
            #{item.createUser},
            #{item.updateUser},
            #{item.updateTime}
            )
        </foreach>
        ON DUPLICATE KEY UPDATE
        update_time = values(update_time),
        update_user = values(update_user)
    </insert>
</mapper>
